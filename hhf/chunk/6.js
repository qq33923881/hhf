(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"157":function(e,t,n){"use strict";n.d(t,"a",(function(){return setNavigationBarTitle}));var r=n(15),a=n(9);Object(a.g)("showNavigationBarLoading");function setNavigationBarTitle(e){var t=Object(a.f)(e);if(!t.flag){var n={"errMsg":"setNavigationBarTitle:fail ".concat(t.msg)};return console.error(n.errMsg),Promise.reject(n)}var o=e.title,i=e.success,c=e.fail,s=e.complete,l=new r.b({"name":"setNavigationBarTitle","success":i,"fail":c,"complete":s});return o&&"string"==typeof o?(document.title!==o&&(document.title=o),l.success()):l.fail({"errMsg":Object(a.b)({"para":"title","correct":"String","wrong":o})})}Object(a.g)("hideNavigationBarLoading"),Object(a.g)("hideHomeButton")},"165":function(e,t,n){},"174":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var r=n(2),a=n(3),o=n(14),i=n(10),c=n(11),s=n(4),l=n(18),d=n(25),u=n(157),p=n(172),b=n(32),f=n(22),g=n.n(f),m=n(6),v=n(9),j=n(15);var h=function setStorageSync(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("string"==typeof e){var n=Object(m.a)(t),r={};r="symbol"===n?{"data":""}:{"data":t},localStorage.setItem(e,JSON.stringify(r))}else console.error(Object(v.b)({"name":"setStorage","correct":"String","wrong":e}))};Object(v.g)("revokeBufferURL"),Object(v.g)("createBufferURL");document.addEventListener("copy",(function(){var e;(function setStorage(e){var t=Object(v.f)(e);if(!t.flag){var n={"errMsg":"setStorage:fail ".concat(t.msg)};return console.error(n.errMsg),Promise.reject(n)}var r=e.key,a=e.data,o=e.success,i=e.fail,c=e.complete,s=new j.b({"name":"setStorage","success":o,"fail":i,"complete":c});return"string"!=typeof r?s.fail({"errMsg":Object(v.b)({"para":"key","correct":"String","wrong":r})}):(h(r,a),s.success())})({"key":"taro_clipboard","data":null===(e=window.getSelection())||void 0===e?void 0:e.toString()}).catch((function(e){console.error(e)}))}));var w=function(){var e=Object(b.a)(g.a.mark((function _callee(e){var t,n,r,a,o,i;return g.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.data,n=e.success,r=e.fail,a=e.complete,o=new j.b({"name":"setClipboardData","success":n,"fail":r,"complete":a}),c.prev=2,h("taro_clipboard",t),"function"!=typeof document.execCommand){c.next=18;break}(i=document.createElement("textarea")).readOnly=!0,i.value=t,i.style.position="absolute",i.style.width="100px",i.style.left="-10000px",document.body.appendChild(i),i.select(),i.setSelectionRange(0,i.value.length),document.execCommand("copy"),document.body.removeChild(i),c.next=19;break;case 18:throw new Error("Unsupported Function: 'document.execCommand'.");case 19:return c.abrupt("return",o.success());case 22:return c.prev=22,c.t0=c.catch(2),c.abrupt("return",o.fail({"errMsg":c.t0.message}));case 25:case"end":return c.stop()}}),_callee,null,[[2,22]])})));return function setClipboardData(t){return e.apply(this,arguments)}}(),O=n(139),y=(n(165),n(136)),x=function(e){Object(i.a)(Index,e);var t=Object(c.a)(Index);function Index(){var e;Object(r.a)(this,Index);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Object(s.a)(Object(o.a)(e),"state",{"link":null,"open":null,"certified":"true","weappImg":""}),e}return Object(a.a)(Index,[{"key":"componentDidMount","value":function componentDidMount(){var e,t,n,r=this,a=(null===(e=d.a.Current)||void 0===e||null===(t=e.router)||void 0===t?void 0:t.params)||{},o=a.link&&decodeURIComponent(a.link);this.setState({"link":o,"open":a.open&&decodeURIComponent(a.open),"certified":a.certified,"weappImg":a.weappImg});var i=a.title||"WebView";Object(u.a)({"title":i}),Object(p.b)({"title":"加载中"}),"true"!==a.certified&&a.link&&(Object(p.a)(),w({"data":o||""})),null===(n=this.props.navigation)||void 0===n||n.setOptions({"headerRight":function headerRight(){return Object(y.jsx)(O.j,{"onClick":r.openUrl.bind(r),"style":{"paddingRight":20,"paddingLeft":20},"children":Object(y.jsx)(O.i,{"children":a.right||"打开"})})}})}},{"key":"onWebViewLoad","value":function onWebViewLoad(){Object(p.a)()}},{"key":"openUrl","value":function openUrl(){var e=this.state,t=e.open,n=e.link,r=t||n;r&&d.a.openUrl({"url":r})}},{"key":"onError","value":function onError(){Object(p.a)(),Object(u.a)({"title":"加载失败"})}},{"key":"render","value":function render(){var e=this.state,t=e.link,n=e.certified,r=e.weappImg;return t?"true"!==n?Object(y.jsx)(O.j,{"children":Object(y.jsxs)(O.f,{"scrollY":!0,"scrollWithAnimation":!0,"scrollTop":0,"style":{"height":d.a.pxTransform(1200)},"children":[Object(y.jsx)(O.j,{"className":"webview-url","children":decodeURIComponent(t)}),Object(y.jsx)(O.j,{"className":"webview-tip","children":"该网址不支持打开，已复制到剪切板。"}),r.length&&Object(y.jsx)(O.b,{"src":r,"mode":"widthFix","style":{"width":"100%"}})]})}):Object(y.jsx)(O.k,{"src":decodeURIComponent(t),"onLoad":this.onWebViewLoad.bind(this),"onError":this.onError.bind(this)}):null}}]),Index}(l.Component)}}]);